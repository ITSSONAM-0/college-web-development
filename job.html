<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Job Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/726/726056.png" />
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Navbar -->
  <nav class="bg-blue-600 text-white px-6 py-4 flex justify-between items-center shadow-md">
    <h1 class="text-2xl font-bold">Job<span class="text-yellow-300">Portal</span></h1>
    <div class="flex gap-4">
      <button id="showJobsBtn" class="hover:bg-blue-700 px-3 py-2 rounded">Jobs</button>
      <button id="postJobBtn" class="hover:bg-blue-700 px-3 py-2 rounded">Post Job</button>
      <button id="savedJobsBtn" class="hover:bg-blue-700 px-3 py-2 rounded">Saved Jobs</button>
    </div>
  </nav>

  <!-- Job Posting Section -->
  <section id="postJobSection" class="max-w-2xl mx-auto mt-8 bg-white shadow-lg rounded-2xl p-6 hidden">
    <h2 class="text-xl font-semibold mb-4 text-center">Post a New Job</h2>
    <form id="jobForm" class="space-y-4">
      <input type="text" id="title" placeholder="Job Title" class="w-full border p-2 rounded" required>
      <input type="text" id="company" placeholder="Company Name" class="w-full border p-2 rounded" required>
      <input type="text" id="location" placeholder="Location" class="w-full border p-2 rounded" required>
      <textarea id="description" placeholder="Job Description" class="w-full border p-2 rounded" required></textarea>
      <button class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700">Post Job</button>
    </form>
  </section>

  <!-- Job Listing Section -->
  <section id="jobsSection" class="max-w-4xl mx-auto mt-8 p-4">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Available Jobs</h2>
      <input type="text" id="searchInput" placeholder="Search jobs..." class="border p-2 rounded w-1/3">
    </div>
    <div id="jobList" class="grid gap-4"></div>
  </section>

  <!-- Saved Jobs Section -->
  <section id="savedJobsSection" class="max-w-4xl mx-auto mt-8 p-4 hidden">
    <h2 class="text-xl font-semibold mb-4">Saved Jobs</h2>
    <div id="savedJobList" class="grid gap-4"></div>
  </section>

  <script>
    const jobForm = document.getElementById("jobForm");
    const jobList = document.getElementById("jobList");
    const postJobSection = document.getElementById("postJobSection");
    const jobsSection = document.getElementById("jobsSection");
    const savedJobsSection = document.getElementById("savedJobsSection");

    const showJobsBtn = document.getElementById("showJobsBtn");
    const postJobBtn = document.getElementById("postJobBtn");
    const savedJobsBtn = document.getElementById("savedJobsBtn");

    let jobs = JSON.parse(localStorage.getItem("jobs")) || [];
    let savedJobs = JSON.parse(localStorage.getItem("savedJobs")) || [];

    // Switch sections
    showJobsBtn.onclick = () => {
      postJobSection.classList.add("hidden");
      savedJobsSection.classList.add("hidden");
      jobsSection.classList.remove("hidden");
      displayJobs();
    };

    postJobBtn.onclick = () => {
      jobsSection.classList.add("hidden");
      savedJobsSection.classList.add("hidden");
      postJobSection.classList.remove("hidden");
    };

    savedJobsBtn.onclick = () => {
      jobsSection.classList.add("hidden");
      postJobSection.classList.add("hidden");
      savedJobsSection.classList.remove("hidden");
      displaySavedJobs();
    };

    // Post Job
    jobForm.addEventListener("submit", e => {
      e.preventDefault();
      const job = {
        id: Date.now(),
        title: title.value.trim(),
        company: company.value.trim(),
        location: location.value.trim(),
        description: description.value.trim()
      };
      jobs.push(job);
      localStorage.setItem("jobs", JSON.stringify(jobs));
      jobForm.reset();
      alert("✅ Job posted successfully!");
      displayJobs();
      postJobSection.classList.add("hidden");
      jobsSection.classList.remove("hidden");
    });

    // Display Jobs
    function displayJobs(filter = "") {
      jobList.innerHTML = "";
      const filteredJobs = jobs.filter(job =>
        job.title.toLowerCase().includes(filter.toLowerCase()) ||
        job.location.toLowerCase().includes(filter.toLowerCase())
      );

      if (filteredJobs.length === 0) {
        jobList.innerHTML = `<p class='text-center text-gray-500'>No jobs found.</p>`;
        return;
      }

      filteredJobs.forEach(job => {
        const card = document.createElement("div");
        card.className = "bg-white p-4 rounded-lg shadow-md";
        card.innerHTML = `
          <h3 class="text-lg font-semibold">${job.title}</h3>
          <p class="text-gray-600">${job.company} — ${job.location}</p>
          <p class="text-gray-700 mt-2">${job.description}</p>
          <div class="mt-3 flex gap-2">
            <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700" onclick="saveJob(${job.id})">Save</button>
            <button class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700" onclick="deleteJob(${job.id})">Delete</button>
          </div>
        `;
        jobList.appendChild(card);
      });
    }

    // Save Job
    function saveJob(id) {
      const job = jobs.find(j => j.id === id);
      if (!savedJobs.some(j => j.id === id)) {
        savedJobs.push(job);
        localStorage.setItem("savedJobs", JSON.stringify(savedJobs));
        alert("💾 Job saved!");
      } else {
        alert("⚠️ Already saved!");
      }
    }

    // Delete Job
    function deleteJob(id) {
      jobs = jobs.filter(j => j.id !== id);
      localStorage.setItem("jobs", JSON.stringify(jobs));
      displayJobs();
    }

    // Display Saved Jobs
    function displaySavedJobs() {
      const savedJobList = document.getElementById("savedJobList");
      savedJobList.innerHTML = "";

      if (savedJobs.length === 0) {
        savedJobList.innerHTML = `<p class='text-center text-gray-500'>No saved jobs yet.</p>`;
        return;
      }

      savedJobs.forEach(job => {
        const card = document.createElement("div");
        card.className = "bg-white p-4 rounded-lg shadow-md";
        card.innerHTML = `
          <h3 class="text-lg font-semibold">${job.title}</h3>
          <p class="text-gray-600">${job.company} — ${job.location}</p>
          <p class="text-gray-700 mt-2">${job.description}</p>
          <button class="bg-red-600 text-white px-3 py-1 rounded mt-2 hover:bg-red-700" onclick="removeSavedJob(${job.id})">Remove</button>
        `;
        savedJobList.appendChild(card);
      });
    }

    function removeSavedJob(id) {
      savedJobs = savedJobs.filter(j => j.id !== id);
      localStorage.setItem("savedJobs", JSON.stringify(savedJobs));
      displaySavedJobs();
    }

    // Search feature
    document.getElementById("searchInput").addEventListener("input", e => {
      displayJobs(e.target.value);
    });

    // Initial Display
    displayJobs();
  </script>
</body>
</html>
